var Weather=angular.module("Weather",["ngRoute"]);Weather.config(function(a){a.when("/",{templateUrl:"assets/templates/home.html"}).when("/weather",{templateUrl:"assets/templates/weather.html"}).otherwise({redirectTo:"/"})}),Weather.controller("weatherController",function(a,b,c){a.hi="Hi",a.init=function(){a.menu=[{menuItem:"Home",hash:"/#/",id:"home"},{menuItem:"Weather",hash:"/#/weather",id:"weather"}],a.ifWeather(),a.emptyField=!0,a.notFound=!0},a.ifWeather=function(){"#/weather"==b.location.hash?a.hideWeather=!1:(a.hideWeather=!0,a.curr="Home")},a.toggleNav=function(){$(".main").is(".full-width")?($("nav").removeClass("hidden").animate({left:"0%"}),$(".main").animate({left:"25%",width:"75%"}).removeClass("full-width")):($("nav").animate({left:"-25%"}),$(".main").animate({left:"0%",width:"100%"}).addClass("full-width")),a.hideWeather=!0},a.activeMenu=function(b){a.hideWeather=!0;var c=$(".menu li");$(c).removeClass("active"),$(c[b]).toggleClass("active"),$("#weather").parent().hasClass("active")&&(a.hideWeather=!1),a.curr=$("li.active a").text()},a.timeConverter=function(a){var b=new Date(1e3*a),c=["01","02","03","04","05","06","07","08","09","10","11","12"],d=b.getFullYear(),e=c[b.getMonth()],f=b.getDate(),g=b.getHours(),h=b.getMinutes(),i=b.getSeconds(),j=e+"/"+f+"/"+d+" "+g+":"+h+":"+i;return j},a.submitForm=function(b){void 0==b?(a.displayError(".error"),a.loading=!1):(a.loading=!0,a.notFound=!0,a.key="2f7247a2f24f45b5a0b343363743e52e",c.get("http://api.openweathermap.org/data/2.5/weather?q="+b.city+","+b.state+"&appid="+a.key).then(function(b){200!=b.data.cod?(console.log(b),a.loading=!1,a.displayError(".error")):(a.hideError(".error"),a.currentWeather=b.data.weather[0].description,a.lastReading=new Date,a.temp=Math.round(9*(b.data.main.temp-273.15)/5+32),a.humidity=b.data.main.humidity,a.sunrise=a.timeConverter(b.data.sys.sunrise),a.sunset=a.timeConverter(b.data.sys.sunset),a.displayResults(),a.loading=!1)},function(b){a.loading=!1,a.displayError(".error")}))},a.displayResults=function(){$(".results").removeClass("hidden")},a.displayError=function(a){$(a).removeClass("hidden").addClass("display")},a.hideError=function(a){$(a).removeClass("display").addClass("hidden")},a.hideWeatherNav=function(b){a.hideWeather=!0,a.curr=$(b.target).text()},a.init()}),Weather.directive("breadcrumbs",function(){return{restrict:"E",controller:"weatherController",templateUrl:function(){return"assets/templates/breadcrumbs.html"}}});